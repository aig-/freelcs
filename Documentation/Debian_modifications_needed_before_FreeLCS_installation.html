<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html dir="ltr" lang="en">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <title>Debian modifications needed before FreeLCS installation</title>
  </head>
  <body>
    <h1> Debian modifications needed before FreeLCS installation</h1>
    Debian 7 support was added in FreeLCS version 2.5.&nbsp; Earlier Debian
    versions have not been tested, they may or may not work.<br>
    <br>
    Canonical builds its Ubuntu releases using Debian software packages.
    Therefore both of these Linux distributions have much in common, but also
    have some differing functionality. Some small config changes must be made to
    Debian before FreeLCS can be installed and run.<br>
    <br>
    <br>
    <h2>Remove cd / dvd installation media from sources.list</h2>
    <ul>
      <li>Debian adds the install cd / dvd as a available repository for
        software package installation. When you install new software then Debian
        first tries to find it on the installation cd / dvd. If the disk is not
        inserted, then installation stops with an error message. This prevents
        FreeLCS from installing the software packages it needs. The installation
        disk must be removed from the list of available installation sources.
        This list is a simple text file that can be manually edited.</li>
      <li>Open the Terminal (<strong> /Applications/Accessories/Terminal </strong>)
        and get root provileges by giving the following command (will ask for
        root password):</li>
    </ul>
    <p style="margin-left: 40px;"><strong>su root</strong></p>
    <ul>
      <li>Open the installation source list to a text editor in the terminal
        with the following command:</li>
    </ul>
    <p style="margin-left: 40px;"><strong>nano -w /etc/apt/sources.list</strong></p>
    <ul>
      <li>Find lines that start with:&nbsp;&nbsp; <strong>deb cdrom&nbsp;</strong>&nbsp;&nbsp;
        and add a&nbsp; <strong>#</strong>&nbsp; character in front of each.
        This disables the line.</li>
      <li>Example: the following line:</li>
    </ul>
    <p style="margin-left: 40px;"><strong>deb cdrom:[Debian GNU/Linux 7.2.0
        _Wheezy_ - Official i386 DVD Binary-1 20131012-12:56]/ wheezy contrib
        main</strong></p>
    <ul>
      <li>becomes:</li>
    </ul>
    <p style="margin-left: 40px;"><strong># deb cdrom:[Debian GNU/Linux 7.2.0
        _Wheezy_ - Official i386 DVD Binary-1 20131012-12:56]/ wheezy contrib
        main</strong></p>
    <ul>
      <li>Save the modified file using the keyboard command: <strong>ctrl + o</strong></li>
      <li>Exit the nano - editor with keyboard command: <strong>ctrl + x</strong></li>
    </ul>
    <br>
    <br>
    <h2>Install the sudo - program and add user to the sudo group</h2>
    FreeLCS uses the <strong>sudo</strong> - program to get root permissions
    during installation. If sudo is not available then FreeLCS installation
    fails.<br>
    <br>
    Debian installs sudo if you selected the 'Desktop' - installation during
    Debian install process. To ensure that sudo is installed, try to reinstall
    it:<br>
    <ul>
      <li>Get root permissions with the following terminal command (asks for
        root password):</li>
    </ul>
    <div style="margin-left: 40px;"><strong>su root</strong></div>
    <ul>
      <li>Install the sudo package:</li>
    </ul>
    <div style="margin-left: 40px;"><strong>apt-get -y install sudo</strong></div>
    <ul>
      <li>The user account that you use to run the FreeLCS installer must have
        permission to run the sudo - program. This permission is given by adding
        the user to the usergroup named 'sudo'. In the following example we
        assume that the name of this user account is&nbsp; 'john'.&nbsp; Change
        this name to your actual user account name.</li>
      <li>Add the user account to the group 'sudo' with the following terminal
        command:</li>
    </ul>
    <p style="margin-left: 40px;"><strong>adduser&nbsp;&nbsp; john&nbsp;&nbsp;
        sudo</strong></p>
    <ul>
      <li>If you are logged in with the user account that you added to the group
        'sudo', then you must now log out and back in for the changes to take
        effect.</li>
    </ul>
    <br>
    <br>
    <h2>Load kernel module brd</h2>
    <ul>
      <li>This step assumes that you have the '<strong>sudo</strong>' - prorgram
        installed (installation steps described above).</li>
      <li>FreeLCS writes every 5 seconds a html file to the disk. This html -
        file stores information about what the server is currently doing. Users
        can view this file with a web browser like Firefox. This file is written
        to a ram - disk that is automatically created when FreeLCS software
        starts up. Ram - disk speeds up reading and writing this file when the
        server is under heavy load. The ram disk is created using a kernel
        module named <strong>brd</strong>. This module is built into Ubuntu
        kernel, but on Debian the user must load it before FreeLCS - software
        starts.</li>
      <li>First load the brd module with the following terminal command (will
        ask for password):</li>
    </ul>
    <p style="margin-left: 40px;"><strong>sudo modprobe brd</strong></p>
    <ul>
      <li>Now the&nbsp; brd module is running and can be used. The module must
        be added to the text file&nbsp;&nbsp;<strong> /etc/modules</strong>&nbsp;&nbsp;
        for it to be automatically loaded during the next boot. Open
        the&nbsp;&nbsp; <strong>/etc/modules</strong> - file in a text editor
        with the following terminal command (will ask for password):</li>
    </ul>
    <p style="margin-left: 40px;"><strong>sudo nano -w /etc/modules</strong></p>
    <ul>
      <li>Add the text:&nbsp;&nbsp; <strong>brd</strong>&nbsp;&nbsp; on its own
        line at the end of the file.</li>
      <li>Save the modified file using the keyboard command: <strong>ctrl + o</strong></li>
      <li>Exit the nano - editor with keyboard command: <strong>ctrl + x</strong></li>
    </ul>
    Now that the necessary modifications to the Debian system are done, you can
    continue with the normal FreeLCS install procedure described in the user
    manual :)<br>
    <br>
    <br>
    <br>
  </body>
</html>
